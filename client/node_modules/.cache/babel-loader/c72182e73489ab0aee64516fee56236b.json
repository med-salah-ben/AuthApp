{"ast":null,"code":"import { LOGIN_USER, USER_LOADING, LOGOUT_USER, REGISTER_USER, GET_AUTH_USER, AUTH_ERRORS } from \"../constant/Actions-types\";\nconst initialState = {\n  token: localStorage.getItem('token'),\n  user: null,\n  isAuth: false,\n  isLoading: true\n};\n\nconst authReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case REGISTER_USER:\n    case LOGIN_USER:\n      localStorage.setItem('token', payload.token);\n      return { ...state,\n        isLoading: false,\n        isAuth: true,\n        ...payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;","map":{"version":3,"sources":["C:/Users/slh/OneDrive/Bureau/auth-workshop/client/src/JS/Reducers/authReducer.js"],"names":["LOGIN_USER","USER_LOADING","LOGOUT_USER","REGISTER_USER","GET_AUTH_USER","AUTH_ERRORS","initialState","token","localStorage","getItem","user","isAuth","isLoading","authReducer","state","type","payload","setItem"],"mappings":"AAAA,SAAQA,UAAR,EACIC,YADJ,EAEIC,WAFJ,EAGIC,aAHJ,EAIIC,aAJJ,EAKIC,WALJ,QAKuB,2BALvB;AAOI,MAAMC,YAAY,GAAE;AAChBC,EAAAA,KAAK,EAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADU;AAEhBC,EAAAA,IAAI,EAAC,IAFW;AAGhBC,EAAAA,MAAM,EAAC,KAHS;AAIhBC,EAAAA,SAAS,EAAC;AAJM,CAApB;;AAOA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAER,YAAR,EAAqB;AAACS,EAAAA,IAAD;AAAMC,EAAAA;AAAN,CAArB,KAAsC;AACtD,UAAQD,IAAR;AACI,SAAKZ,aAAL;AACA,SAAKH,UAAL;AACIQ,MAAAA,YAAY,CAACS,OAAb,CAAqB,OAArB,EAA6BD,OAAO,CAACT,KAArC;AACA,aAAM,EACF,GAAGO,KADD;AAEFF,QAAAA,SAAS,EAAC,KAFR;AAGFD,QAAAA,MAAM,EAAC,IAHL;AAIF,WAAGK;AAJD,OAAN;;AAOJ;AACI,aAAOF,KAAP;AAZR;AAcH,CAfD;;AAiBA,eAAeD,WAAf","sourcesContent":["import {LOGIN_USER,\r\n    USER_LOADING,\r\n    LOGOUT_USER,\r\n    REGISTER_USER,\r\n    GET_AUTH_USER,\r\n    AUTH_ERRORS}  from \"../constant/Actions-types\"\r\n\r\n    const initialState ={\r\n        token:localStorage.getItem('token'),\r\n        user:null,\r\n        isAuth:false,\r\n        isLoading:true\r\n    }\r\n\r\n    const authReducer = (state =initialState,{type,payload})=>{\r\n        switch (type) {\r\n            case REGISTER_USER:\r\n            case LOGIN_USER:\r\n                localStorage.setItem('token',payload.token)\r\n                return{\r\n                    ...state,\r\n                    isLoading:false,\r\n                    isAuth:true,\r\n                    ...payload\r\n                }\r\n        \r\n            default:\r\n                return state\r\n        }\r\n    }\r\n\r\n    export default authReducer"]},"metadata":{},"sourceType":"module"}