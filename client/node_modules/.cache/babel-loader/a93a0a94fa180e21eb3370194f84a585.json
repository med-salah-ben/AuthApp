{"ast":null,"code":"import axios from \"axios\";\nimport { LOGIN_USER, USER_LOADING, LOGOUT_USER, REGISTER_USER, GET_AUTH_USER, AUTH_ERRORS } from \"../constant/Actions-types\";\nexport const userLoading = () => dispatch => {\n  dispatch({\n    type: USER_LOADING\n  });\n}; //register user\n\nexport const registerUser = formData => async dispatch => {\n  try {\n    const res = await axios.post('/api/auth/register', formData);\n    dispatch({\n      type: REGISTER_USER,\n      payload: res.data //{msg,user,token}\n\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: AUTH_ERRORS\n    });\n  }\n}; //login\n\nexport const loginUser = formData => async dispatch => {\n  try {\n    const res = await axios.post('/api/auth/login', formData);\n    dispatch({\n      type: LOGIN_USER,\n      payload: res.data //{msg,user,token}\n\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: AUTH_ERRORS\n    });\n  }\n}; //get auth user\n\nexport const getAuthUser = () => async dispatch => {\n  try {\n    //headers\n    const config = {\n      headers: {\n        'x-auth-token': localStorage.getItem('token')\n      }\n    };\n    const res = await axios.get('/api/auth/user', config);\n    dispatch({\n      type: GET_AUTH_USER,\n      payload: res.data // {user:req.user}\n\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: AUTH_ERRORS\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/slh/OneDrive/Bureau/auth-workshop/client/src/JS/Actions.js/authActions.js"],"names":["axios","LOGIN_USER","USER_LOADING","LOGOUT_USER","REGISTER_USER","GET_AUTH_USER","AUTH_ERRORS","userLoading","dispatch","type","registerUser","formData","res","post","payload","data","error","console","log","loginUser","getAuthUser","config","headers","localStorage","getItem","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EACQC,YADR,EAEQC,WAFR,EAGQC,aAHR,EAIQC,aAJR,EAKQC,WALR,QAK2B,2BAL3B;AAQA,OAAO,MAAMC,WAAW,GAAG,MAAKC,QAAD,IAAY;AACvCA,EAAAA,QAAQ,CAAC;AACLC,IAAAA,IAAI,EAACP;AADA,GAAD,CAAR;AAGH,CAJM,C,CAMP;;AACA,OAAO,MAAMQ,YAAY,GAAIC,QAAD,IAAa,MAAMH,QAAN,IAAiB;AACtD,MAAI;AACA,UAAMI,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,oBAAX,EAAgCF,QAAhC,CAAlB;AACAH,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACL,aADA;AAELU,MAAAA,OAAO,EAACF,GAAG,CAACG,IAFP,CAEW;;AAFX,KAAD,CAAR;AAIH,GAND,CAME,OAAOC,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAACH;AAAN,KAAD,CAAR;AACH;AACJ,CAXM,C,CAYP;;AACA,OAAO,MAAMa,SAAS,GAAIR,QAAD,IAAa,MAAMH,QAAN,IAAiB;AACnD,MAAI;AACA,UAAMI,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,iBAAX,EAA6BF,QAA7B,CAAlB;AACAH,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACR,UADA;AAELa,MAAAA,OAAO,EAACF,GAAG,CAACG,IAFP,CAEW;;AAFX,KAAD,CAAR;AAIH,GAND,CAME,OAAOC,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAACH;AAAN,KAAD,CAAR;AACH;AACJ,CAXM,C,CAaP;;AACA,OAAO,MAAMc,WAAW,GAAG,MAAI,MAAMZ,QAAN,IAAiB;AAC7C,MAAI;AACA;AACA,UAAMa,MAAM,GAAE;AACVC,MAAAA,OAAO,EAAG;AACN,wBAAeC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADT;AADA,KAAd;AAKH,UAAMZ,GAAG,GAAG,MAAMZ,KAAK,CAACyB,GAAN,CAAU,gBAAV,EAA2BJ,MAA3B,CAAlB;AACAb,IAAAA,QAAQ,CAAC;AACLC,MAAAA,IAAI,EAACJ,aADA;AAELS,MAAAA,OAAO,EAACF,GAAG,CAACG,IAFP,CAEY;;AAFZ,KAAD,CAAR;AAIA,GAZD,CAYE,OAAOC,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAR,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAACH;AAAN,KAAD,CAAR;AACA;AACH,CAjBM","sourcesContent":["import axios from \"axios\"\r\nimport {LOGIN_USER,\r\n        USER_LOADING,\r\n        LOGOUT_USER,\r\n        REGISTER_USER,\r\n        GET_AUTH_USER,\r\n        AUTH_ERRORS}  from \"../constant/Actions-types\"\r\n\r\n\r\nexport const userLoading = ()=>(dispatch)=>{\r\n    dispatch({\r\n        type:USER_LOADING\r\n    })\r\n}\r\n\r\n//register user\r\nexport const registerUser = (formData) =>async(dispatch)=>{\r\n    try {\r\n        const res = await axios.post('/api/auth/register',formData)\r\n        dispatch({\r\n            type:REGISTER_USER,\r\n            payload:res.data//{msg,user,token}\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({type:AUTH_ERRORS})\r\n    }\r\n}\r\n//login\r\nexport const loginUser = (formData) =>async(dispatch)=>{\r\n    try {\r\n        const res = await axios.post('/api/auth/login',formData)\r\n        dispatch({\r\n            type:LOGIN_USER,\r\n            payload:res.data//{msg,user,token}\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n        dispatch({type:AUTH_ERRORS})\r\n    }\r\n}\r\n\r\n//get auth user\r\nexport const getAuthUser = ()=>async(dispatch)=>{\r\n   try {\r\n       //headers\r\n       const config ={\r\n           headers : {\r\n               'x-auth-token':localStorage.getItem('token')\r\n           }\r\n       }\r\n    const res = await axios.get('/api/auth/user',config)\r\n    dispatch({\r\n        type:GET_AUTH_USER,\r\n        payload:res.data // {user:req.user}\r\n    })\r\n   } catch (error) {\r\n    console.log(error)\r\n    dispatch({type:AUTH_ERRORS})\r\n   }\r\n}"]},"metadata":{},"sourceType":"module"}